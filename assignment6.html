<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Iman's HCDE 439 Physical Computing Page!</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 
        <div class="header">
            <h1>Assignment 6: Datalogging!</h1>
            <p>
            By the click of a button, I was able to interact with data thatâ€™s coming from our arduino over serial. The output was yes when clicking and no when not clicking!
            <p>
            <img src="datalogging.gif" width=400></a>
            </p>
            </p>
        </div>
            <h2>Schematic!</h2>
            <p>
                <img src="a6schematic.jpg" width=400></a> <img src="a6schematic1.jpg" width=400></a> 
            <p>
           
        </div>
            <h2>Code Snippet!</h2>
            <p>
            <h3>p5.js Code</h3>
            <p>
            <code>   
                var serial; // variable to hold an instance of the serialport library <br />
                var portName = '/dev/cu.usbmodem1411' //rename to the name of your port <br />
                var datain; //some data coming in over serial! <br />
                var xPos = 0; <br />


                function setup() { <br />
                    serial = new p5.SerialPort();       // make a new instance of the serialport library <br />
                    serial.on('list', printList);       // set a callback function for the serialport list event <br />
                    serial.on('connected', serverConnected); // callback for connecting to the server <br />
                    serial.on('open', portOpen);        // callback for the port opening <br />
                    serial.on('data', serialEvent);     // callback for when new data arrives <br />
                    serial.on('error', serialError);    // callback for errors <br />
                    serial.on('close', portClose);      // callback for the port closing <br />
 
                    serial.list();                      // list the serial ports <br />
                    serial.open(portName);              // open a serial port <br />
                    createCanvas(1200, 800); <br />
                    background(0x08, 0x16, 0x40); <br />
                    } <br />
 
                // get the list of ports: <br />
                function printList(portList) { <br />
                // portList is an array of serial port names <br />
                for (var i = 0; i < portList.length; i++) { <br />
                    // Display the list the console: <br />
                        print(i + " " + portList[i]); <br />
                    } <br />
                } <br />

                function serverConnected() { <br />
                    print('connected to server.'); <br />
                } <br />
 
                function portOpen() { <br />
                    print('the serial port opened.') <br />
                } <br />
 
                function serialError(err) { <br />
                    print('Something went wrong with the serial port. ' + err); <br />
                } <br />
 
                function portClose() { <br />
                    print('The serial port closed.'); <br />
                } <br />

                function serialEvent() { <br />
                    if (serial.available()) { <br />
                        datain = Number(serial.readLine()); <br />
                            //console.log(datain); <br />
                    } <br />
                } <br />


                function draw() { <br />
                    background(0); <br />
                    fill(255); <br />

                if (datain == 0) {  <br />
                    text("button pressed: NO", 30,30); <br />
                } else { <br />
                    text("button pressed: NO", 30,30); <br />
                    } <br />
                } <br />
            </code>
            <p>
            <h3>Arduino Code</h3>
            <p>
                <img src="datalogging_arduino.jpg" width=400></a>
            <p>

        
    </body>
</html>